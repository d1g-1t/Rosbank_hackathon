# Starsmap ‚Äî –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è–º–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ–º –ø–µ—Ä—Å–æ–Ω–∞–ª–∞

![Python](https://img.shields.io/badge/Python-3.11-blue)
![Django](https://img.shields.io/badge/Django-4.2-green)
![DRF](https://img.shields.io/badge/DRF-3.15-red)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13-blue)
![Docker](https://img.shields.io/badge/Docker-compose-blue)
![React](https://img.shields.io/badge/React-18.3-61DAFB)
![TypeScript](https://img.shields.io/badge/TypeScript-4.9-3178C6)

–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è HR-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏—è–º–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –≥—Ä–µ–π–¥–∞–º–∏, –∫–æ–º–∞–Ω–¥–∞–º–∏ –∏ –æ–±—É—á–∞—é—â–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ —Å —Å–∏—Å—Ç–µ–º–æ–π –æ—Ü–µ–Ω–∫–∏ –Ω–∞–≤—ã–∫–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫–æ–π "bus factor".

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
git clone https://github.com/d1g-1t/rosbank_hackathon.git
cd rosbank_hackathon
make install
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: **http://localhost**

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker 20.10+
- Docker Compose 2.0+
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É–¥–æ–±–Ω—ã—Ö –∫–æ–º–∞–Ω–¥)

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
make install
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –°–æ–±–µ—Ä–µ—Ç –≤—Å–µ Docker –æ–±—Ä–∞–∑—ã
- –ó–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (PostgreSQL, Backend, Frontend, Nginx)
- –í—ã–ø–æ–ª–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–æ–±–µ—Ä–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã

### –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
docker-compose build
docker-compose up -d
docker-compose exec backend python manage.py migrate
```

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
make superuser
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
docker-compose exec backend python manage.py createsuperuser
```

## üì± –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ URL:

- **–§—Ä–æ–Ω—Ç–µ–Ω–¥**: http://localhost
- **API**: http://localhost/api/
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: http://localhost/admin/
- **Swagger UI**: http://localhost/api/schema/swagger-ui/
- **ReDoc**: http://localhost/api/schema/redoc/

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `make help` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã |
| `make build` | –°–æ–±—Ä–∞—Ç—å Docker –æ–±—Ä–∞–∑—ã |
| `make up` | –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make down` | –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make restart` | –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã |
| `make logs` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ |
| `make logs-backend` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞ |
| `make logs-frontend` | –ü–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ |
| `make migrate` | –í—ã–ø–æ–ª–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î |
| `make superuser` | –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `make test` | –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã |
| `make clean` | –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ volumes |
| `make status` | –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤ |

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rosbank_backend/
‚îú‚îÄ‚îÄ backend/                  # Django Backend
‚îÇ   ‚îî‚îÄ‚îÄ starsmap/
‚îÇ       ‚îú‚îÄ‚îÄ api/             # API –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ       ‚îú‚îÄ‚îÄ specialties/     # –ö–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ –∏ –Ω–∞–≤—ã–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ teams/           # –ö–æ–º–∞–Ω–¥—ã –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
‚îÇ       ‚îú‚îÄ‚îÄ management/      # –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ       ‚îî‚îÄ‚îÄ starsmap/        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ frontend/                # React Frontend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ infra/                   # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ nginx.conf          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.production.yml
‚îú‚îÄ‚îÄ docker-compose.yml       # –û—Å–Ω–æ–≤–Ω–∞—è Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ Makefile                # –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–º
```

## üí° –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Python 3.11** - —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Django 4.2** - web-framework
- **Django REST Framework 3.15** - RESTful API
- **drf-spectacular** - OpenAPI 3.0 –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **django-filters** - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL 13** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Gunicorn** - WSGI HTTP —Å–µ—Ä–≤–µ—Ä

### Frontend
- **React 18.3** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript 4.9** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Redux Toolkit** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **Ant Design** - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **React Router** - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

### DevOps
- **Docker & Docker Compose** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Nginx** - reverse proxy
- **Make** - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–º–∞–Ω–¥

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:

```bash
cp .env.example .env
```

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `POSTGRES_DB` - –∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `POSTGRES_USER` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î
- `POSTGRES_PASSWORD` - –ø–∞—Ä–æ–ª—å –ë–î
- `SECRET_KEY` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á Django
- `DEBUG` - —Ä–µ–∂–∏–º –æ—Ç–ª–∞–¥–∫–∏ (True/False)
- `ALLOWED_HOSTS` - —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Ö–æ—Å—Ç—ã

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏**: –ø—Ä–æ—Ñ–∏–ª–∏, –¥–æ–ª–∂–Ω–æ—Å—Ç–∏, –≥—Ä–µ–π–¥—ã
- **–°–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–π**: –∏–µ—Ä–∞—Ä—Ö–∏—è –Ω–∞–≤—ã–∫–æ–≤ (Competence ‚Üí Skill)
- **–û—Ü–µ–Ω–∫–∞ –Ω–∞–≤—ã–∫–æ–≤**: —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏ —Å —É—Ä–æ–≤–Ω—è–º–∏ (–ù–∞—á–∏–Ω–∞—é—â–∏–π ‚Üí –≠–∫—Å–ø–µ—Ä—Ç–Ω—ã–π)
- **Bus Factor –º–µ—Ç—Ä–∏–∫–∞**: –∞–Ω–∞–ª–∏–∑ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–∞–º–∏**: —Å–≤—è–∑–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å –∫–æ–º–∞–Ω–¥–∞–º–∏
- **–û–±—É—á–∞—é—â–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã**: –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏
- **–¶–µ–ª–µ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏**: –∫–∞—Ä—å–µ—Ä–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ drf-spectacular

### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- `/api/employee/` - —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
- `/api/team/` - –∫–æ–º–∞–Ω–¥—ã
- `/api/grade/` - –≥—Ä–µ–π–¥—ã
- `/api/skill/` - –Ω–∞–≤—ã–∫–∏
- `/api/competency/` - –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏
- `/api/position/` - –¥–æ–ª–∂–Ω–æ—Å—Ç–∏
- `/api/level/` - —É—Ä–æ–≤–Ω–∏ –æ—Ü–µ–Ω–∫–∏
- `/api/request-training/` - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –æ–±—É—á–µ–Ω–∏–µ
- `/api/schema/` - OpenAPI —Å—Ö–µ–º–∞
- `/api/schema/swagger-ui/` - Swagger UI
- `/api/schema/redoc/` - ReDoc

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
make test
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```bash
docker-compose exec backend python manage.py test
```

## üìù –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—É—é management-–∫–æ–º–∞–Ω–¥—É –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ CSV –¥–∞–Ω–Ω—ã—Ö:

```bash
docker-compose exec backend python manage.py import_data /path/to/bd.csv
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ –¥–ª—è production:**

1. –ò–∑–º–µ–Ω–∏—Ç–µ `SECRET_KEY` –≤ `.env`
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `DEBUG=False`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `ALLOWED_HOSTS`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –ë–î
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSL/HTTPS —á–µ—Ä–µ–∑ Nginx

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏

–ï—Å–ª–∏ –ø–æ—Ä—Ç 80 –∑–∞–Ω—è—Ç, –∏–∑–º–µ–Ω–∏—Ç–µ –≤ `docker-compose.yml`:

```yaml
nginx:
  ports:
    - "8080:80"
```

### –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

```bash
make logs              # –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
make logs-backend      # —Ç–æ–ª—å–∫–æ –±—ç–∫–µ–Ω–¥
make logs-frontend     # —Ç–æ–ª—å–∫–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
make logs-nginx        # —Ç–æ–ª—å–∫–æ nginx
```

### –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
make clean
make install
```
